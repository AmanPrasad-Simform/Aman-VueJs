import{_,m as g,a as h,u as r,b as f,r as d,o as w,c as D,f as i,w as b,d as e,p as S,h as V}from"./index-d04e6466.js";const v={name:"loginPage",data(){return{schema:{email:"required|email",password:"required"},loginDetails:{}}},computed:{...g(r,["userDetails"]),...h(r,["isLoggedIn"])},methods:{...f(r,["postLoginDetails","getUserDetails"]),async loginBtn(){if(await this.getUserDetails(),(await this.postLoginDetails(this.loginDetails)).status==200){let s=this.userDetails.find(t=>this.loginDetails.email==t.email&&this.loginDetails.password==t.password);if(s){this.isLoggedIn=!0;const t=s.id;sessionStorage.setItem("isLoggedIn",!0),sessionStorage.setItem("isToken",t),this.$router.push({name:"home"})}else alert("Invalid Credentials");this.$el.querySelector("button[type=reset]").click()}else return}}},l=o=>(S("data-v-525f0fed"),o=o(),V(),o),I={class:"login-form"},y=l(()=>e("h1",{class:"title-header"},"Login",-1)),L={class:"group"},F=l(()=>e("label",{for:"email"}," Email ",-1)),k={class:"group"},x=l(()=>e("label",{for:"password"},"Password",-1)),B=l(()=>e("div",{class:"form-btn"},[e("button",{type:"reset"},"Cancel"),e("button",{type:"submit"},"Submit")],-1));function C(o,s,t,E,a,p){const m=d("VField"),c=d("ErrorMessage"),u=d("VForm");return w(),D("section",I,[y,i(u,{class:"form","validation-schema":a.schema,onSubmit:p.loginBtn},{default:b(()=>[e("div",L,[i(m,{name:"email",placeholder:" ",type:"email",class:"input",modelValue:a.loginDetails.email,"onUpdate:modelValue":s[0]||(s[0]=n=>a.loginDetails.email=n)},null,8,["modelValue"]),F,i(c,{name:"email",class:"error_message"})]),e("div",k,[i(m,{name:"password",placeholder:" ",type:"password",class:"input",modelValue:a.loginDetails.password,"onUpdate:modelValue":s[1]||(s[1]=n=>a.loginDetails.password=n)},null,8,["modelValue"]),x,i(c,{name:"password",class:"error_message"})]),B]),_:1},8,["validation-schema","onSubmit"])])}const q=_(v,[["render",C],["__scopeId","data-v-525f0fed"]]);export{q as default};
