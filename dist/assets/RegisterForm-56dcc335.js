import{_ as V,b as w,r as c,o as g,c as p,f as a,w as b,u as v,d as e,i as y,F as x,g as F,k as h,p as S,h as P,t as U}from"./index-d04e6466.js";const C={name:"registerPage",data(){return{schema:{name:"required",email:"required|email",password:"required|min:8|max:12|regex:^(?=.*\\d)(?=.*[^\\w\\d\\s]).+$",confirmPassword:"required|confirmed:@password",role:"select",gender:"gender",age:"required|integer",dob:l=>{if(l){const s=new Date(l),m=new Date,u=new Date("1923-12-31"),t="Date cannot be in the future",d="Date cannot be earlier than 01-01-1924";return s>=m?t:s<=u?d:!0}else return"Date of birth is required"}},registerDetails:{}}},computed:{maxDate(){return new Date().toISOString().split("T")[0]}},methods:{...w(v,["postRegisterDetails"]),calculateAge(){const l=new Date(this.registerDetails.dob),s=Date.now()-l.getTime(),m=new Date(s),u=Math.abs(m.getUTCFullYear()-1970);this.registerDetails.age=u},async registerBtn(){if((await this.postRegisterDetails(this.registerDetails)).status==201)this.$router.push({name:"login"}),this.$el.querySelector("button[type=reset]").click();else return}}},r=l=>(S("data-v-98ab0725"),l=l(),P(),l),I={class:"register-form"},q=r(()=>e("h1",{class:"title-header"},"Register",-1)),E={class:"group"},A=r(()=>e("label",{for:"name"}," Name ",-1)),B={class:"group"},M=r(()=>e("label",{for:"email"}," Email ",-1)),R={class:"group"},k=r(()=>e("label",{for:"password"},"Password",-1)),L={class:"group"},N=r(()=>e("label",{for:"confirmPassword"},"Confirm Password",-1)),T={class:"group"},G=r(()=>e("option",{disabled:"",value:""},"Select a role",-1)),O=r(()=>e("option",{value:"admin"},"Admin",-1)),Y=r(()=>e("option",{value:"employee"},"Employee",-1)),j=r(()=>e("option",{value:"customer"},"Customer",-1)),z=[G,O,Y,j],H=r(()=>e("label",{for:"role"},"Role",-1)),J={class:"form-group"},K=r(()=>e("label",{for:"gender",class:"genderLabel"},"Gender: ",-1)),Q={class:"radioLabel"},W={class:"radioLabel"},X={class:"group"},Z=r(()=>e("label",{for:"date"},"DOB",-1)),$={class:"group"},ee=r(()=>e("label",{for:"age"},"Age",-1)),se=r(()=>e("div",{class:"form-btn"},[e("button",{type:"reset"},"Cancel"),e("button",{type:"submit"},"Submit")],-1));function te(l,s,m,u,t,d){const n=c("VField"),i=c("ErrorMessage"),D=c("VForm");return g(),p("section",I,[q,a(D,{class:"form","validation-schema":t.schema,onSubmit:d.registerBtn},{default:b(()=>[e("div",E,[a(n,{name:"name",placeholder:" ",type:"name",class:"input",modelValue:t.registerDetails.name,"onUpdate:modelValue":s[0]||(s[0]=o=>t.registerDetails.name=o)},null,8,["modelValue"]),A,a(i,{name:"name",class:"error_message"})]),e("div",B,[a(n,{name:"email",placeholder:" ",type:"email",class:"input",modelValue:t.registerDetails.email,"onUpdate:modelValue":s[1]||(s[1]=o=>t.registerDetails.email=o)},null,8,["modelValue"]),M,a(i,{name:"email",class:"error_message"})]),e("div",R,[a(n,{name:"password",placeholder:" ",type:"password",class:"input",modelValue:t.registerDetails.password,"onUpdate:modelValue":s[2]||(s[2]=o=>t.registerDetails.password=o)},null,8,["modelValue"]),k,a(i,{name:"password",class:"error_message"})]),e("div",L,[a(n,{name:"confirmPassword",placeholder:" ",type:"password",class:"input"}),N,a(i,{name:"confirmPassword",class:"error_message"})]),e("div",T,[a(n,{name:"role",bails:!1,modelValue:t.registerDetails.role,"onUpdate:modelValue":s[3]||(s[3]=o=>t.registerDetails.role=o)},{default:b(({field:o,errors:f})=>[e("select",y(o,{class:"input"}),z,16),(g(!0),p(x,null,F(f,_=>(g(),p("div",{class:"error_message",key:_},U(_),1))),128))]),_:1},8,["modelValue"]),H]),e("div",J,[e("div",null,[K,e("label",Q,[a(n,{type:"radio",name:"gender",value:"Male",modelValue:t.registerDetails.gender,"onUpdate:modelValue":s[4]||(s[4]=o=>t.registerDetails.gender=o)},null,8,["modelValue"]),h(" Male ")]),e("label",W,[a(n,{type:"radio",name:"gender",value:"Female",modelValue:t.registerDetails.gender,"onUpdate:modelValue":s[5]||(s[5]=o=>t.registerDetails.gender=o)},null,8,["modelValue"]),h(" Female ")])]),a(i,{name:"gender",class:"error_message"})]),e("div",X,[a(n,{name:"dob",placeholder:" ",type:"date",class:"input",modelValue:t.registerDetails.dob,"onUpdate:modelValue":s[6]||(s[6]=o=>t.registerDetails.dob=o),max:d.maxDate,onChange:d.calculateAge},null,8,["modelValue","max","onChange"]),Z,a(i,{name:"dob",class:"error_message"})]),e("div",$,[a(n,{name:"age",placeholder:" ",type:"number",class:"input",disabled:"",modelValue:t.registerDetails.age,"onUpdate:modelValue":s[7]||(s[7]=o=>t.registerDetails.age=o)},null,8,["modelValue"]),ee,a(i,{name:"age",class:"error_message"})]),se]),_:1},8,["validation-schema","onSubmit"])])}const ae=V(C,[["render",te],["__scopeId","data-v-98ab0725"]]);export{ae as default};
